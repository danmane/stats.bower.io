<!--<h2>Top packages over past <span>7 days <i class="fa fa-caret-down"></i></span></h2>-->
<h2>Top packages over past 7 days</h2>

<table class="table table-condensed b-table-pkgs">

  <thead>
  <tr>
    <td>Rank</td>
    <td>Package</td>
    <td>Installs</td>
    <td><i class="fa fa-github-alt"></i> Owner</td>
    <td>
      <i class="fa fa-star b-gh"></i> â€¢
      <i class="fa fa-exclamation-circle b-gh"></i>
    </td>
    <td>Last Push</td>
  </tr>
  </thead>

  <tbody>
  <tr ng-repeat="pkg in packages"
      ng-hide="pkg.name !== 'angular' && pkg.ghOwner === 'angular' && hideAngular">

    <!--rank-->
    <td>
      {{ pkg.rank[1] }} <!--[prior, current]-->
      <br/>
      <b-delta delta="{{pkg.rank[0] - pkg.rank[1]}}" type="num"></b-delta>
    </td>

    <!--name & desc-->
    <td>
      <span class="pull-right b-hide"
            ng-if="pkg.name === 'angular'"
            ng-click="toggleHideAngular()">
        <i class="fa b-gh" ng-class="'fa-' + ($parent.hideAngular ? 'plus' : 'minus') + '-square'"></i>
        <small ng-switch on="$parent.hideAngular">
          <span ng-switch-when="true">Show</span>
          <span ng-switch-when="false">Hide</span>
          Core Modules
        </small>
      </span>
      <i ng-if="$index < 3" class="fa fa-trophy"></i>

      <!--sometimes package has no github info-->
      <span ng-switch on="!!pkg.ghUrl">
        <span ng-switch-when="false">{{ pkg.name }}</span>
        <a ng-switch-default ng-href="{{ pkg.ghUrl }}">{{ pkg.name }}</a>
      </span>

      <br/>
      <small>{{ pkg.ghDesc }}</small>
    </td>

    <!--installs-->
    <td>
      {{ pkg.installsSum[1] | round }} <!--[prior, current]-->
      <br/>
      <b-delta delta="{{ pkg.installsSum[1] / pkg.installsSum[0] - 1 }}" type="pct"></b-delta>
    </td>

    <!--GH stuff-->
    <td>
      <a ng-href="{{ pkg.ghUrl }}">
        <img ng-src="{{ pkg.ghOwnerAvatar }}" alt="" class="img-rounded"/>
        {{ pkg.ghOwner }}
      </a>
    </td>

    <td>
      <span ng-show="pkg.ghStars && pkg.ghStars !== 0">
        <i class="fa fa-star b-gh"></i> {{ pkg.ghStars | round }}
      </span>
      <br/>
      <span ng-show="pkg.ghIssues && pkg.ghIssues !== 0">
        <i class="fa fa-exclamation-circle b-gh"></i> {{ pkg.ghIssues | round }}
      </span>
    </td>

    <td><small>{{ pkg.ghUpdatedHuman }}</small></td>

  </tr>
  </tbody>

</table>